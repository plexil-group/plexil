<?xml version="1.0" encoding="UTF-8"?><PlexilPlan FileName="MutexTest.ple"><GlobalDeclarations LineNo="1" ColNo="0"><CommandDeclaration LineNo="1" ColNo="0"><Name>pprint</Name><AnyParameters/></CommandDeclaration></GlobalDeclarations><Node NodeType="NodeList" epx="Concurrence" LineNo="3" ColNo="0"><NodeId>MutexTest</NodeId><VariableDeclarations><DeclareMutex LineNo="6" ColNo="8"><Name>m</Name></DeclareMutex></VariableDeclarations><InvariantCondition><NOT><EQInternal><NodeStateVariable><NodeId>PreFail3</NodeId></NodeStateVariable><NodeStateValue>EXECUTING</NodeStateValue></EQInternal></NOT></InvariantCondition><PostCondition><AND><AND><EQInternal><NodeStateVariable><NodeId>Hold1</NodeId></NodeStateVariable><NodeStateValue>FINISHED</NodeStateValue></EQInternal><EQInternal><NodeOutcomeVariable><NodeId>Hold1</NodeId></NodeOutcomeVariable><NodeOutcomeValue>SUCCESS</NodeOutcomeValue></EQInternal></AND><AND><EQInternal><NodeStateVariable><NodeId>Hold2</NodeId></NodeStateVariable><NodeStateValue>FINISHED</NodeStateValue></EQInternal><EQInternal><NodeOutcomeVariable><NodeId>Hold2</NodeId></NodeOutcomeVariable><NodeOutcomeValue>SUCCESS</NodeOutcomeValue></EQInternal></AND><AND><EQInternal><NodeStateVariable><NodeId>PreFail3</NodeId></NodeStateVariable><NodeStateValue>FINISHED</NodeStateValue></EQInternal><EQInternal><NodeFailureVariable><NodeId>PreFail3</NodeId></NodeFailureVariable><NodeFailureValue>PRE_CONDITION_FAILED</NodeFailureValue></EQInternal></AND><AND><EQInternal><NodeStateVariable><NodeId>Hold4</NodeId></NodeStateVariable><NodeStateValue>FINISHED</NodeStateValue></EQInternal><EQInternal><NodeOutcomeVariable><NodeId>Hold4</NodeId></NodeOutcomeVariable><NodeOutcomeValue>SUCCESS</NodeOutcomeValue></EQInternal></AND></AND></PostCondition><NodeBody><NodeList><Node NodeType="Command" LineNo="11" ColNo="1"><NodeId>Hold1</NodeId><InvariantCondition><AND><NOT><EQInternal><NodeStateVariable><NodeId>Hold2</NodeId></NodeStateVariable><NodeStateValue>EXECUTING</NodeStateValue></EQInternal></NOT><NOT><EQInternal><NodeStateVariable><NodeId>Hold4</NodeId></NodeStateVariable><NodeStateValue>EXECUTING</NodeStateValue></EQInternal></NOT></AND></InvariantCondition><UsingMutex><Name><StringValue>m</StringValue></Name></UsingMutex><NodeBody><Command LineNo="15" ColNo="4"><Name><StringValue>pprint</StringValue></Name><Arguments><StringValue>Hold1</StringValue></Arguments></Command></NodeBody></Node><Node NodeType="Command" LineNo="18" ColNo="1"><NodeId>Hold2</NodeId><InvariantCondition><AND><NOT><EQInternal><NodeStateVariable><NodeId>Hold1</NodeId></NodeStateVariable><NodeStateValue>EXECUTING</NodeStateValue></EQInternal></NOT><NOT><EQInternal><NodeStateVariable><NodeId>Hold4</NodeId></NodeStateVariable><NodeStateValue>EXECUTING</NodeStateValue></EQInternal></NOT></AND></InvariantCondition><UsingMutex><Name><StringValue>m</StringValue></Name></UsingMutex><NodeBody><Command LineNo="22" ColNo="4"><Name><StringValue>pprint</StringValue></Name><Arguments><StringValue>Hold2</StringValue></Arguments></Command></NodeBody></Node><Node NodeType="Command" LineNo="25" ColNo="1"><NodeId>PreFail3</NodeId><PreCondition><BooleanValue>false</BooleanValue></PreCondition><UsingMutex><Name><StringValue>m</StringValue></Name></UsingMutex><NodeBody><Command LineNo="29" ColNo="4"><Name><StringValue>pprint</StringValue></Name><Arguments><StringValue>PreFail3 should never run!</StringValue></Arguments></Command></NodeBody></Node><Node NodeType="Command" LineNo="32" ColNo="1"><NodeId>Hold4</NodeId><InvariantCondition><AND><NOT><EQInternal><NodeStateVariable><NodeId>Hold1</NodeId></NodeStateVariable><NodeStateValue>EXECUTING</NodeStateValue></EQInternal></NOT><NOT><EQInternal><NodeStateVariable><NodeId>Hold2</NodeId></NodeStateVariable><NodeStateValue>EXECUTING</NodeStateValue></EQInternal></NOT></AND></InvariantCondition><UsingMutex><Name><StringValue>m</StringValue></Name></UsingMutex><NodeBody><Command LineNo="36" ColNo="4"><Name><StringValue>pprint</StringValue></Name><Arguments><StringValue>Hold4</StringValue></Arguments></Command></NodeBody></Node></NodeList></NodeBody></Node></PlexilPlan>