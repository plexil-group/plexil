<?xml version="1.0" encoding="UTF-8"?><PlexilPlan xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" FileName="SiteSurveyWithEOF.ple"><GlobalDeclarations ColNo="8" LineNo="26"><CommandDeclaration ColNo="8" LineNo="26"><Name>get_next_inspection_point</Name><Return><Name>_return_0</Name><Type>Integer</Type></Return></CommandDeclaration><CommandDeclaration ColNo="8" LineNo="27"><Name>move_to_waypoint</Name><Return><Name>_return_0</Name><Type>Integer</Type></Return><Parameter><Type>String</Type></Parameter><Parameter><Type>String</Type></Parameter><Parameter><Type>Real</Type></Parameter><Parameter><Type>Real</Type></Parameter><Parameter><Type>Real</Type></Parameter><Parameter><Type>Real</Type></Parameter><Parameter><Type>Real</Type></Parameter><Parameter><Type>Real</Type></Parameter><Parameter><Type>Real</Type></Parameter><Parameter><Type>Real</Type></Parameter></CommandDeclaration><CommandDeclaration ColNo="8" LineNo="32"><Name>acquire</Name><Return><Name>_return_0</Name><Type>Integer</Type></Return></CommandDeclaration><StateDeclaration ColNo="7" LineNo="34"><Name>name</Name><Return><Name>_return_0</Name><Type>String</Type></Return></StateDeclaration><StateDeclaration ColNo="7" LineNo="35"><Name>frame</Name><Return><Name>_return_0</Name><Type>String</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="36"><Name>waypoint_x</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="37"><Name>waypoint_y</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="38"><Name>waypoint_z</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="39"><Name>waypoint_a</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="40"><Name>isDirectional</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="41"><Name>tolerance</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="42"><Name>headingTolerance</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="43"><Name>hintedSpeed</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="8" LineNo="44"><Name>inspect_waypoint</Name><Return><Name>_return_0</Name><Type>Integer</Type></Return></StateDeclaration><StateDeclaration ColNo="8" LineNo="45"><Name>task_id</Name><Return><Name>_return_0</Name><Type>Integer</Type></Return></StateDeclaration><StateDeclaration ColNo="5" LineNo="46"><Name>timeout</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><StateDeclaration ColNo="8" LineNo="47"><Name>plan_paused</Name><Return><Name>_return_0</Name><Type>Boolean</Type></Return></StateDeclaration><StateDeclaration ColNo="8" LineNo="48"><Name>abort_plan</Name><Return><Name>_return_0</Name><Type>Boolean</Type></Return></StateDeclaration></GlobalDeclarations><Node NodeType="NodeList" epx="Concurrence" ColNo="0" LineNo="50"><NodeId>SiteSurveyWithEOF</NodeId><VariableDeclarations><DeclareVariable ColNo="4" LineNo="53"><Name>task_type</Name><Type>Integer</Type></DeclareVariable><DeclareVariable ColNo="4" LineNo="54"><Name>is_aborted</Name><Type>Boolean</Type><InitialValue><BooleanValue>false</BooleanValue></InitialValue></DeclareVariable><DeclareVariable ColNo="4" LineNo="55"><Name>abort_due_to_exception</Name><Type>Boolean</Type><InitialValue><BooleanValue>false</BooleanValue></InitialValue></DeclareVariable><DeclareVariable ColNo="4" LineNo="56"><Name>waypt_id</Name><Type>Integer</Type></DeclareVariable></VariableDeclarations><EndCondition ColNo="4" LineNo="58"><OR ColNo="36" LineNo="60"><Finished ColNo="6" LineNo="59"><NodeId>SignalEndOfPlan</NodeId></Finished><Finished ColNo="6" LineNo="60"><NodeId>SendAbortUpdate</NodeId></Finished><BooleanVariable>abort_due_to_exception</BooleanVariable></OR></EndCondition><NodeBody><NodeList><Node NodeType="NodeList" epx="Concurrence" ColNo="2" LineNo="63"><NodeId>SiteSurveyWrapper</NodeId><VariableDeclarations><DeclareVariable ColNo="8" LineNo="66"><Name>task_type</Name><Type>Integer</Type></DeclareVariable><DeclareVariable ColNo="8" LineNo="67"><Name>is_paused</Name><Type>Boolean</Type><InitialValue><BooleanValue>false</BooleanValue></InitialValue></DeclareVariable></VariableDeclarations><EndCondition ColNo="8" LineNo="69"><OR ColNo="47" LineNo="70"><EQNumeric ColNo="12" LineNo="70"><IntegerValue>0</IntegerValue><IntegerVariable>task_type</IntegerVariable></EQNumeric><BooleanVariable>is_aborted</BooleanVariable><BooleanVariable>abort_due_to_exception</BooleanVariable></OR></EndCondition><NodeBody><NodeList><Node NodeType="NodeList" epx="Concurrence" ColNo="6" LineNo="72"><NodeId>SiteSurvey</NodeId><VariableDeclarations><DeclareVariable ColNo="12" LineNo="75"><Name>task_result_str</Name><Type>String</Type></DeclareVariable><DeclareVariable ColNo="12" LineNo="76"><Name>cmd_return_val</Name><Type>Integer</Type></DeclareVariable><DeclareVariable ColNo="12" LineNo="77"><Name>cmd_name</Name><Type>String</Type><InitialValue><StringValue>nil</StringValue></InitialValue></DeclareVariable></VariableDeclarations><RepeatCondition ColNo="12" LineNo="79"><NENumeric ColNo="30" LineNo="79"><IntegerValue>0</IntegerValue><IntegerVariable>task_type</IntegerVariable></NENumeric></RepeatCondition><NodeBody><NodeList><Node NodeType="NodeList" epx="Concurrence" ColNo="10" LineNo="81"><NodeId>Loop</NodeId><StartCondition ColNo="16" LineNo="84"><NOT ColNo="40" LineNo="84"><BooleanVariable>is_paused</BooleanVariable></NOT></StartCondition><EndCondition ColNo="16" LineNo="85"><Finished ColNo="29" LineNo="85"><NodeId>CheckIfAbortPlan</NodeId></Finished></EndCondition><NodeBody><NodeList><Node ColNo="14" LineNo="87" NodeType="Command"><NodeId>RequestNextWaypt</NodeId><VariableDeclarations><DeclareVariable ColNo="18" LineNo="89"><Name>ret_val</Name><Type>Integer</Type></DeclareVariable></VariableDeclarations><StartCondition ColNo="18" LineNo="90"><NOT ColNo="42" LineNo="90"><BooleanVariable>is_paused</BooleanVariable></NOT></StartCondition><EndCondition ColNo="18" LineNo="91"><IsKnown ColNo="31" LineNo="91"><IntegerVariable>ret_val</IntegerVariable></IsKnown></EndCondition><PostCondition ColNo="18" LineNo="92"><EQNumeric ColNo="34" LineNo="92"><IntegerValue>0</IntegerValue><IntegerVariable>ret_val</IntegerVariable></EQNumeric></PostCondition><NodeBody><Command ColNo="18" LineNo="93"><IntegerVariable>ret_val</IntegerVariable><Name><StringValue>get_next_inspection_point</StringValue></Name></Command></NodeBody></Node><Node ColNo="14" LineNo="96" NodeType="Assignment"><NodeId>SetWaypointRequestFailed</NodeId><StartCondition ColNo="18" LineNo="98"><Failed ColNo="33" LineNo="98"><NodeId>RequestNextWaypt</NodeId></Failed></StartCondition><NodeBody><Assignment ColNo="18" LineNo="99"><StringVariable>cmd_name</StringVariable><StringRHS><StringValue>get_next_inspection_point</StringValue></StringRHS></Assignment></NodeBody></Node><Node NodeType="NodeList" epx="Concurrence" ColNo="14" LineNo="102"><NodeId>GetAndProcessWaypoint</NodeId><VariableDeclarations><DeclareVariable ColNo="20" LineNo="105"><Name>waypt_name</Name><Type>String</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="105"><Name>waypt_frame</Name><Type>String</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="106"><Name>waypt_x</Name><Type>Real</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="106"><Name>waypt_y</Name><Type>Real</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="106"><Name>waypt_z</Name><Type>Real</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="106"><Name>waypt_a</Name><Type>Real</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="107"><Name>waypt_is_directional</Name><Type>Real</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="108"><Name>waypt_tolerance</Name><Type>Real</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="109"><Name>waypt_heading_tolerance</Name><Type>Real</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="110"><Name>waypt_hinted_speed</Name><Type>Real</Type></DeclareVariable><DeclareVariable ColNo="20" LineNo="111"><Name>waypt_timeout</Name><Type>Real</Type></DeclareVariable></VariableDeclarations><StartCondition ColNo="20" LineNo="113"><AND ColNo="54" LineNo="113"><NOT ColNo="44" LineNo="113"><BooleanVariable>is_paused</BooleanVariable></NOT><Finished ColNo="57" LineNo="113"><NodeId>RequestNextWaypt</NodeId></Finished></AND></StartCondition><PreCondition ColNo="20" LineNo="114"><Succeeded ColNo="33" LineNo="114"><NodeId>RequestNextWaypt</NodeId></Succeeded></PreCondition><InvariantCondition ColNo="20" LineNo="115"><NOT ColNo="48" LineNo="115"><BooleanVariable>is_paused</BooleanVariable></NOT></InvariantCondition><EndCondition ColNo="20" LineNo="116"><OR ColNo="57" LineNo="116"><Failed ColNo="33" LineNo="116"><NodeId>GetNewWaypt</NodeId></Failed><Finished ColNo="60" LineNo="116"><NodeId>DriveAndAcquire</NodeId></Finished></OR></EndCondition><NodeBody><NodeList><Node NodeType="NodeList" epx="Concurrence" ColNo="18" LineNo="118"><NodeId>GetNewWaypt</NodeId><PostCondition ColNo="24" LineNo="121"><AND ColNo="55" LineNo="124"><Succeeded ColNo="26" LineNo="122"><NodeId>Get_x</NodeId></Succeeded><Succeeded ColNo="26" LineNo="123"><NodeId>Get_y</NodeId></Succeeded><Succeeded ColNo="26" LineNo="124"><NodeId>Get_task_type</NodeId></Succeeded><Succeeded ColNo="26" LineNo="125"><NodeId>Get_task_id</NodeId></Succeeded></AND></PostCondition><NodeBody><NodeList><Node ColNo="22" LineNo="127" NodeType="Assignment"><NodeId>Get_name</NodeId><NodeBody><Assignment ColNo="24" LineNo="128"><StringVariable>waypt_name</StringVariable><StringRHS><LookupNow ColNo="37" LineNo="128"><Name><StringValue>name</StringValue></Name></LookupNow></StringRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="130" NodeType="Assignment"><NodeId>Get_frame</NodeId><NodeBody><Assignment ColNo="24" LineNo="131"><StringVariable>waypt_frame</StringVariable><StringRHS><LookupNow ColNo="38" LineNo="131"><Name><StringValue>frame</StringValue></Name></LookupNow></StringRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="133" NodeType="Assignment"><NodeId>Get_x</NodeId><NodeBody><Assignment ColNo="24" LineNo="134"><RealVariable>waypt_x</RealVariable><NumericRHS><LookupNow ColNo="34" LineNo="134"><Name><StringValue>waypoint_x</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="136" NodeType="Assignment"><NodeId>Get_y</NodeId><NodeBody><Assignment ColNo="24" LineNo="137"><RealVariable>waypt_y</RealVariable><NumericRHS><LookupNow ColNo="34" LineNo="137"><Name><StringValue>waypoint_y</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="139" NodeType="Assignment"><NodeId>Get_z</NodeId><NodeBody><Assignment ColNo="24" LineNo="140"><RealVariable>waypt_z</RealVariable><NumericRHS><LookupNow ColNo="34" LineNo="140"><Name><StringValue>waypoint_z</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="142" NodeType="Assignment"><NodeId>Get_a</NodeId><NodeBody><Assignment ColNo="24" LineNo="143"><RealVariable>waypt_a</RealVariable><NumericRHS><LookupNow ColNo="34" LineNo="143"><Name><StringValue>waypoint_a</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="145" NodeType="Assignment"><NodeId>Get_dir</NodeId><NodeBody><Assignment ColNo="24" LineNo="146"><RealVariable>waypt_is_directional</RealVariable><NumericRHS><LookupNow ColNo="47" LineNo="146"><Name><StringValue>isDirectional</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="148" NodeType="Assignment"><NodeId>Get_tolerance</NodeId><NodeBody><Assignment ColNo="24" LineNo="149"><RealVariable>waypt_tolerance</RealVariable><NumericRHS><LookupNow ColNo="42" LineNo="149"><Name><StringValue>tolerance</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="151" NodeType="Assignment"><NodeId>Get_heading_tolerance</NodeId><NodeBody><Assignment ColNo="24" LineNo="152"><RealVariable>waypt_heading_tolerance</RealVariable><NumericRHS><LookupNow ColNo="50" LineNo="152"><Name><StringValue>headingTolerance</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="154" NodeType="Assignment"><NodeId>Get_hinted_speed</NodeId><NodeBody><Assignment ColNo="24" LineNo="155"><RealVariable>waypt_hinted_speed</RealVariable><NumericRHS><LookupNow ColNo="45" LineNo="155"><Name><StringValue>hintedSpeed</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="157" NodeType="Assignment"><NodeId>Get_task_type</NodeId><NodeBody><Assignment ColNo="24" LineNo="158"><IntegerVariable>task_type</IntegerVariable><NumericRHS><LookupNow ColNo="36" LineNo="158"><Name><StringValue>inspect_waypoint</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="160" NodeType="Assignment"><NodeId>Get_task_id</NodeId><NodeBody><Assignment ColNo="24" LineNo="161"><IntegerVariable>waypt_id</IntegerVariable><NumericRHS><LookupNow ColNo="35" LineNo="161"><Name><StringValue>task_id</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node><Node ColNo="22" LineNo="163" NodeType="Assignment"><NodeId>Get_timeout</NodeId><NodeBody><Assignment ColNo="24" LineNo="164"><RealVariable>waypt_timeout</RealVariable><NumericRHS><LookupNow ColNo="40" LineNo="164"><Name><StringValue>timeout</StringValue></Name></LookupNow></NumericRHS></Assignment></NodeBody></Node></NodeList></NodeBody></Node><Node ColNo="18" LineNo="167" NodeType="Assignment"><NodeId>Cmd_Resest1</NodeId><NodeBody><Assignment ColNo="20" LineNo="168"><IntegerVariable>cmd_return_val</IntegerVariable><NumericRHS><IntegerValue>-1000</IntegerValue></NumericRHS></Assignment></NodeBody></Node><Node NodeType="NodeList" epx="Concurrence" ColNo="18" LineNo="170"><NodeId>DriveAndAcquire</NodeId><StartCondition ColNo="24" LineNo="173"><Finished ColNo="39" LineNo="173"><NodeId>GetNewWaypt</NodeId></Finished></StartCondition><PreCondition ColNo="24" LineNo="174"><Succeeded ColNo="37" LineNo="174"><NodeId>GetNewWaypt</NodeId></Succeeded></PreCondition><NodeBody><NodeList><Node NodeType="NodeList" epx="If" ColNo="24" LineNo="176"><NodeId>if__2</NodeId><NodeBody><NodeList><Node NodeType="NodeList" epx="Then" ColNo="24" LineNo="177"><StartCondition><NOT ColNo="28" LineNo="176"><EQNumeric ColNo="33" LineNo="176"><IntegerValue>0</IntegerValue><IntegerVariable>task_type</IntegerVariable></EQNumeric></NOT></StartCondition><SkipCondition><NOT><NOT ColNo="28" LineNo="176"><EQNumeric ColNo="33" LineNo="176"><IntegerValue>0</IntegerValue><IntegerVariable>task_type</IntegerVariable></EQNumeric></NOT></NOT></SkipCondition><NodeId>ProcessWaypoint</NodeId><NodeBody><NodeList><Node NodeType="NodeList" epx="Sequence" ColNo="30" LineNo="180"><NodeId>Sequence__3</NodeId><InvariantCondition><NoChildFailed><NodeRef dir="self"/></NoChildFailed></InvariantCondition><NodeBody><NodeList><Node ColNo="32" LineNo="182" NodeType="Command"><NodeId>DriveToWaypoint</NodeId><PostCondition ColNo="36" LineNo="184"><EQNumeric ColNo="52" LineNo="184"><IntegerValue>0</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric></PostCondition><InvariantCondition ColNo="36" LineNo="185"><OR ColNo="58" LineNo="188"><EQNumeric ColNo="44" LineNo="186"><IntegerValue>-1000</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="40" LineNo="187"><IntegerValue>0</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="40" LineNo="188"><IntegerValue>2</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="40" LineNo="189"><IntegerValue>3</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric></OR></InvariantCondition><NodeBody><Command ColNo="36" LineNo="191"><IntegerVariable>cmd_return_val</IntegerVariable><Name><StringValue>move_to_waypoint</StringValue></Name><Arguments ColNo="55" LineNo="192"><StringVariable>waypt_name</StringVariable><StringVariable>waypt_frame</StringVariable><RealVariable>waypt_x</RealVariable><RealVariable>waypt_y</RealVariable><RealVariable>waypt_z</RealVariable><RealVariable>waypt_a</RealVariable><RealVariable>waypt_is_directional</RealVariable><RealVariable>waypt_tolerance</RealVariable><RealVariable>waypt_heading_tolerance</RealVariable><RealVariable>waypt_hinted_speed</RealVariable></Arguments></Command></NodeBody></Node><Node ColNo="32" LineNo="199" NodeType="Assignment"><NodeId>SetNameToDrive</NodeId><StartCondition><Finished><NodeRef dir="sibling">DriveToWaypoint</NodeRef></Finished></StartCondition><NodeBody><Assignment ColNo="34" LineNo="200"><StringVariable>cmd_name</StringVariable><StringRHS><StringValue>drive</StringValue></StringRHS></Assignment></NodeBody></Node><Node NodeType="NodeList" epx="Concurrence" ColNo="32" LineNo="201"><NodeId>WrapperNode</NodeId><StartCondition><Finished><NodeRef dir="sibling">SetNameToDrive</NodeRef></Finished></StartCondition><PreCondition ColNo="38" LineNo="204"><Succeeded ColNo="51" LineNo="204"><NodeId>DriveToWaypoint</NodeId></Succeeded></PreCondition><NodeBody><NodeList><Node NodeType="NodeList" epx="If" ColNo="38" LineNo="205"><NodeId>if__5</NodeId><NodeBody><NodeList><Node NodeType="NodeList" epx="Then" ColNo="40" LineNo="206"><StartCondition><NOT ColNo="42" LineNo="205"><EQNumeric ColNo="47" LineNo="205"><IntegerValue>1</IntegerValue><IntegerVariable>task_type</IntegerVariable></EQNumeric></NOT></StartCondition><SkipCondition><NOT><NOT ColNo="42" LineNo="205"><EQNumeric ColNo="47" LineNo="205"><IntegerValue>1</IntegerValue><IntegerVariable>task_type</IntegerVariable></EQNumeric></NOT></NOT></SkipCondition><NodeId>Sequence__6</NodeId><InvariantCondition><NoChildFailed><NodeRef dir="self"/></NoChildFailed></InvariantCondition><NodeBody><NodeList><Node ColNo="42" LineNo="208" NodeType="Assignment"><NodeId>Cmd_Resest2</NodeId><NodeBody><Assignment ColNo="44" LineNo="209"><IntegerVariable>cmd_return_val</IntegerVariable><NumericRHS><IntegerValue>-1000</IntegerValue></NumericRHS></Assignment></NodeBody></Node><Node ColNo="42" LineNo="211" NodeType="Command"><NodeId>TakeSample</NodeId><StartCondition><Finished><NodeRef dir="sibling">Cmd_Resest2</NodeRef></Finished></StartCondition><PostCondition ColNo="46" LineNo="213"><EQNumeric ColNo="62" LineNo="213"><IntegerValue>0</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric></PostCondition><InvariantCondition ColNo="46" LineNo="214"><OR ColNo="68" LineNo="217"><EQNumeric ColNo="54" LineNo="215"><IntegerValue>-1000</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="50" LineNo="216"><IntegerValue>0</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="50" LineNo="217"><IntegerValue>3</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="50" LineNo="218"><IntegerValue>2</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric></OR></InvariantCondition><EndCondition ColNo="46" LineNo="219"><OR ColNo="78" LineNo="220"><NOT ColNo="49" LineNo="220"><EQNumeric ColNo="58" LineNo="220"><IntegerValue>-1000</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric></NOT><BooleanVariable>is_aborted</BooleanVariable></OR></EndCondition><NodeBody><Command ColNo="46" LineNo="222"><IntegerVariable>cmd_return_val</IntegerVariable><Name><StringValue>acquire</StringValue></Name></Command></NodeBody></Node><Node ColNo="42" LineNo="225" NodeType="Assignment"><NodeId>SetNameToAcquire</NodeId><StartCondition><Finished><NodeRef dir="sibling">TakeSample</NodeRef></Finished></StartCondition><NodeBody><Assignment ColNo="44" LineNo="226"><StringVariable>cmd_name</StringVariable><StringRHS><StringValue>acquire</StringValue></StringRHS></Assignment></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node><Node ColNo="14" LineNo="235" NodeType="Assignment"><NodeId>SetPauseResult</NodeId><StartCondition ColNo="18" LineNo="237"><AND ColNo="69" LineNo="237"><Finished ColNo="33" LineNo="237"><NodeId>GetAndProcessWaypoint</NodeId></Finished><BooleanVariable>is_paused</BooleanVariable></AND></StartCondition><NodeBody><Assignment ColNo="18" LineNo="238"><IntegerVariable>cmd_return_val</IntegerVariable><NumericRHS><IntegerValue>-3</IntegerValue></NumericRHS></Assignment></NodeBody></Node><Node ColNo="14" LineNo="241" NodeType="Update"><NodeId>SendUpdate</NodeId><StartCondition ColNo="18" LineNo="243"><OR ColNo="59" LineNo="245"><AND ColNo="57" LineNo="244"><Finished ColNo="21" LineNo="244"><NodeId>GetAndProcessWaypoint</NodeId></Finished><NOT ColNo="69" LineNo="244"><BooleanVariable>is_paused</BooleanVariable></NOT></AND><Finished ColNo="20" LineNo="245"><NodeId>SetWaypointRequestFailed</NodeId></Finished><Finished ColNo="20" LineNo="246"><NodeId>SetPauseResult</NodeId></Finished></OR></StartCondition><NodeBody><Update><Pair><Name>taskId</Name><IntegerVariable>waypt_id</IntegerVariable></Pair><Pair><Name>result</Name><IntegerVariable>cmd_return_val</IntegerVariable></Pair><Pair><Name>commandName</Name><StringVariable>cmd_name</StringVariable></Pair></Update></NodeBody></Node><Node NodeType="NodeList" epx="Concurrence" ColNo="14" LineNo="250"><NodeId>CheckIfAbortPlan</NodeId><StartCondition ColNo="20" LineNo="253"><Finished ColNo="35" LineNo="253"><NodeId>SendUpdate</NodeId></Finished></StartCondition><NodeBody><NodeList><Node NodeType="NodeList" epx="If" ColNo="20" LineNo="256"><NodeId>if__10</NodeId><NodeBody><NodeList><Node NodeType="Assignment" epx="Then" ColNo="20" LineNo="261"><StartCondition><OR ColNo="44" LineNo="259"><EQNumeric ColNo="27" LineNo="256"><IntegerValue>-1</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="26" LineNo="257"><IntegerValue>1</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="26" LineNo="258"><IntegerValue>4</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="26" LineNo="259"><IntegerValue>5</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="26" LineNo="260"><IntegerValue>6</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric></OR></StartCondition><SkipCondition><NOT><OR ColNo="44" LineNo="259"><EQNumeric ColNo="27" LineNo="256"><IntegerValue>-1</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="26" LineNo="257"><IntegerValue>1</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="26" LineNo="258"><IntegerValue>4</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="26" LineNo="259"><IntegerValue>5</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric><EQNumeric ColNo="26" LineNo="260"><IntegerValue>6</IntegerValue><IntegerVariable>cmd_return_val</IntegerVariable></EQNumeric></OR></NOT></SkipCondition><NodeId>SetAbort</NodeId><NodeBody><Assignment ColNo="22" LineNo="262"><BooleanVariable>abort_due_to_exception</BooleanVariable><BooleanRHS><BooleanValue>true</BooleanValue></BooleanRHS></Assignment></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node></NodeList></NodeBody></Node><Node ColNo="6" LineNo="267" NodeType="Assignment"><NodeId>MonitorPauseSignal</NodeId><StartCondition ColNo="10" LineNo="269"><NEBoolean ColNo="35" LineNo="269"><BooleanVariable>is_paused</BooleanVariable><LookupOnChange ColNo="38" LineNo="269"><Name><StringValue>plan_paused</StringValue></Name></LookupOnChange></NEBoolean></StartCondition><RepeatCondition ColNo="10" LineNo="270"><BooleanValue>true</BooleanValue></RepeatCondition><NodeBody><Assignment ColNo="10" LineNo="271"><BooleanVariable>is_paused</BooleanVariable><BooleanRHS><LookupNow ColNo="22" LineNo="271"><Name><StringValue>plan_paused</StringValue></Name></LookupNow></BooleanRHS></Assignment></NodeBody></Node></NodeList></NodeBody></Node><Node ColNo="2" LineNo="275" NodeType="Update"><NodeId>SignalEndOfPlan</NodeId><StartCondition ColNo="6" LineNo="277"><AND ColNo="53" LineNo="277"><Finished ColNo="21" LineNo="277"><NodeId>SiteSurveyWrapper</NodeId></Finished><Waiting ColNo="56" LineNo="277"><NodeId>MonitorAbortSignal</NodeId></Waiting></AND></StartCondition><NodeBody><Update><Pair><Name>endOfPlan</Name><BooleanValue>true</BooleanValue></Pair></Update></NodeBody></Node><Node ColNo="2" LineNo="281" NodeType="Assignment"><NodeId>MonitorAbortSignal</NodeId><StartCondition ColNo="6" LineNo="283"><LookupOnChange ColNo="29" LineNo="283"><Name><StringValue>abort_plan</StringValue></Name></LookupOnChange></StartCondition><NodeBody><Assignment ColNo="6" LineNo="284"><BooleanVariable>is_aborted</BooleanVariable><BooleanRHS><BooleanValue>true</BooleanValue></BooleanRHS></Assignment></NodeBody></Node><Node ColNo="2" LineNo="287" NodeType="Update"><NodeId>SendAbortUpdate</NodeId><StartCondition ColNo="6" LineNo="289"><Finished ColNo="21" LineNo="289"><NodeId>MonitorAbortSignal</NodeId></Finished></StartCondition><NodeBody><Update><Pair><Name>taskId</Name><IntegerVariable>waypt_id</IntegerVariable></Pair><Pair><Name>result</Name><IntegerValue>-2</IntegerValue></Pair></Update></NodeBody></Node></NodeList></NodeBody></Node></PlexilPlan>