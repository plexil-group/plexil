SubDir parser ;

if ! $(PLEXIL_READY) {

JAVA_SRC_DIR = [ FDirName $(SUBDIR) java ] ;
JAVA_CLASSES_DIR = [ FDirName $(SUBDIR) classes ] ;
JAVA_JARS_DIR = [ FDirName $(SUBDIR) jars ] ;

JavaJar plexil.jar :
  plexil.PlexilName
  plexil.PlexilGlobalDeclaration
  plexil.PlexilVariableName
  plexil.PlexilInterfaceVariableName
  plexil.PlexilLexer
  plexil.PlexilTreeParser
  plexil.PlexilParser
  plexil.PlexilTokenTypes
  plexil.PlexilTreeParserTokenTypes
  plexil.PlexilParserState
  plexil.PlexilNodeContext
  plexil.PlexilGlobalContext
  plexil.PlexilASTNode
  plexil.LiteralASTNode
  plexil.NodeASTNode
  plexil.TimeLiteralASTNode
  plexil.VariableASTNode
  plexil.ArrayRefASTNode
  plexil.StringLiteralASTNode
  plexil.PlexilASTFactory
  plexil.PlexilXmlStrings
  plexil.PlexilNameType
  plexil.PlexilDataType
  plexil.Parse
  ;

JavaJar plexilscript.jar :
  plexilscript.ParameterAST
  plexilscript.CommandAST
#  plexilscript.CommandAckAST
#  plexilscript.CommandAbortAST
#  plexilscript.FunctionCallAST
#  plexilscript.StateAST
  plexilscript.ElementAST
  plexilscript.SimultaneousAST
  plexilscript.UpdateAckAST
  plexilscript.ScriptAST
  plexilscript.PlexilScriptAST
  plexilscript.InitialStateAST
  plexilscript.PlexilScriptLexer
  plexilscript.PlexilScriptParser
  plexilscript.PlexilScriptParserTokenTypes
  plexilscript.PlexilScriptParse
  ;

# Note dependencies on Antlr-generated classes
Depends PlexilGlobalDeclaration.class : Parse.class PlexilTokenTypes.class ;
Depends Parse.class : PlexilParser.java PlexilTreeParser.java ;
Depends PlexilParser.class : Parse.class ;

Depends PlexilScriptParse.class : PlexilScriptParser.java ;

SubInclude parser antlr ;
SubInclude parser libraries ;

}
