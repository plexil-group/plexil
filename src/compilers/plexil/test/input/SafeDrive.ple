Command Rover.Drive (Integer);
Command Rover.TakePicture;

SafeDrive:
{
  Integer pictures = 0;
  EndCondition Lookup(Rover.WheelStuck) || pictures == 10;

  while (! Lookup(Rover.WheelStuck)) 
  {
    OneMeter: { Rover.Drive(1); }
    TakePic: {
      StartCondition pictures < 10;
      Rover.TakePicture();
    }
    Counter: {
      PreCondition pictures < 10;
      pictures = pictures + 1;
    }
    Print: { pprint ("Pictures taken:", pictures); }
  }
}
