  <PlexilPlan xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://plexil.svn.sourceforge.net/viewvc/plexil/trunk/schema/supported-plexil.xsd" FileName="SiteSurvey.ple">
      <Node FileName="SiteSurvey.ple" LineNo="28" ColNo="1" NodeType="NodeList">
          <VariableDeclarations>
              <DeclareVariable>
                  <Name>task_type</Name>
                  <Type>Integer</Type>
              </DeclareVariable>
              <DeclareVariable>
                  <Name>waypt_id</Name>
                  <Type>Integer</Type>
              </DeclareVariable>
              <DeclareVariable>
                  <Name>is_aborted</Name>
                  <Type>Boolean</Type>
                  <InitialValue>
                      <BooleanValue>false</BooleanValue>
                  </InitialValue>
              </DeclareVariable>
              <DeclareVariable>
                  <Name>abort_due_to_exception</Name>
                  <Type>Boolean</Type>
                  <InitialValue>
                      <BooleanValue>false</BooleanValue>
                  </InitialValue>
              </DeclareVariable>
          </VariableDeclarations>
          <NodeId>SiteSurveyWithEOF</NodeId>
          <EndCondition>
              <OR>
                  <OR>
                      <EQInternal>
                          <NodeStateVariable>
                              <NodeId>SignalEndOfPlan</NodeId>
                          </NodeStateVariable>
                          <NodeStateValue>FINISHED</NodeStateValue>
                      </EQInternal>
                      <EQInternal>
                          <NodeStateVariable>
                              <NodeId>SendAbortUpdate</NodeId>
                          </NodeStateVariable>
                          <NodeStateValue>FINISHED</NodeStateValue>
                      </EQInternal>
                  </OR>
                  <EQBoolean>
                      <BooleanVariable>abort_due_to_exception</BooleanVariable>
                      <BooleanValue>true</BooleanValue>
                  </EQBoolean>
              </OR>
          </EndCondition>
          <NodeBody>
              <NodeList>
                  <Node FileName="SiteSurvey.ple" LineNo="40" ColNo="3" NodeType="NodeList">
                      <VariableDeclarations>
                          <DeclareVariable>
                              <Name>task_type</Name>
                              <Type>Integer</Type>
                          </DeclareVariable>
                          <DeclareVariable>
                              <Name>is_paused</Name>
                              <Type>Boolean</Type>
                              <InitialValue>
                                  <BooleanValue>false</BooleanValue>
                              </InitialValue>
                          </DeclareVariable>
                      </VariableDeclarations>
                      <NodeId>SiteSurveyWrapper</NodeId>
                      <EndCondition>
                          <OR>
                              <OR>
                                  <EQNumeric>
                                      <IntegerVariable>task_type</IntegerVariable>
                                      <IntegerValue>0</IntegerValue>
                                  </EQNumeric>
                                  <EQBoolean>
                                      <BooleanVariable>is_aborted</BooleanVariable>
                                      <BooleanValue>true</BooleanValue>
                                  </EQBoolean>
                              </OR>
                              <EQBoolean>
                                  <BooleanVariable>abort_due_to_exception</BooleanVariable>
                                  <BooleanValue>true</BooleanValue>
                              </EQBoolean>
                          </OR>
                      </EndCondition>
                      <NodeBody>
                          <NodeList>
                              <Node FileName="SiteSurvey.ple" LineNo="49" ColNo="5" NodeType="NodeList">
                                  <VariableDeclarations>
                                      <DeclareVariable>
                                          <Name>task_result_str</Name>
                                          <Type>String</Type>
                                      </DeclareVariable>
                                      <DeclareVariable>
                                          <Name>cmd_return_val</Name>
                                          <Type>Integer</Type>
                                      </DeclareVariable>
                                      <DeclareVariable>
                                          <Name>cmd_name</Name>
                                          <Type>String</Type>
                                          <InitialValue>
                                              <StringValue>nil</StringValue>
                                          </InitialValue>
                                      </DeclareVariable>
                                  </VariableDeclarations>
                                  <NodeId>SiteSurvey</NodeId>
                                  <RepeatCondition>
                                      <NENumeric>
                                          <IntegerVariable>task_type</IntegerVariable>
                                          <IntegerValue>0</IntegerValue>
                                      </NENumeric>
                                  </RepeatCondition>
                                  <NodeBody>
                                      <NodeList>
                                          <Node FileName="SiteSurvey.ple" LineNo="59" ColNo="7" NodeType="NodeList">
                                              <NodeId>Loop</NodeId>
                                              <StartCondition>
                                                  <EQBoolean>
                                                      <BooleanVariable>is_paused</BooleanVariable>
                                                      <BooleanValue>false</BooleanValue>
                                                  </EQBoolean>
                                              </StartCondition>
                                              <EndCondition>
                                                  <EQInternal>
                                                      <NodeStateVariable>
                                                          <NodeId>CheckIfAbortPlan</NodeId>
                                                      </NodeStateVariable>
                                                      <NodeStateValue>FINISHED</NodeStateValue>
                                                  </EQInternal>
                                              </EndCondition>
                                              <NodeBody>
                                                  <NodeList>
                                                      <Node FileName="SiteSurvey.ple" LineNo="66" ColNo="10" NodeType="Command">
                                                          <VariableDeclarations>
                                                              <DeclareVariable>
                                                                  <Name>ret_val</Name>
                                                                  <Type>Integer</Type>
                                                              </DeclareVariable>
                                                          </VariableDeclarations>
                                                          <NodeId>RequestNextWaypt</NodeId>
                                                          <StartCondition>
                                                              <EQBoolean>
                                                                  <BooleanVariable>is_paused</BooleanVariable>
                                                                  <BooleanValue>false</BooleanValue>
                                                              </EQBoolean>
                                                          </StartCondition>
                                                          <PostCondition>
                                                              <EQNumeric>
                                                                  <IntegerVariable>ret_val</IntegerVariable>
                                                                  <IntegerValue>0</IntegerValue>
                                                              </EQNumeric>
                                                          </PostCondition>
                                                          <EndCondition>
                                                              <IsKnown>
                                                                  <IntegerVariable>ret_val</IntegerVariable>
                                                              </IsKnown>
                                                          </EndCondition>
                                                          <NodeBody>
                                                              <Command>
                                                                  <IntegerVariable>ret_val</IntegerVariable>
                                                                  <Name>
                                                                      <StringValue>get_next_inspection_point</StringValue>
                                                                  </Name>
                                                              </Command>
                                                          </NodeBody>
                                                      </Node>
                                                      <Node FileName="SiteSurvey.ple" LineNo="75" ColNo="10" NodeType="Assignment">
                                                          <NodeId>SetWaypointRequestFailed</NodeId>
                                                          <StartCondition>
                                                              <EQInternal>
                                                                  <NodeOutcomeVariable>
                                                                      <NodeId>RequestNextWaypt</NodeId>
                                                                  </NodeOutcomeVariable>
                                                                  <NodeOutcomeValue>FAILURE</NodeOutcomeValue>
                                                              </EQInternal>
                                                          </StartCondition>
                                                          <NodeBody>
                                                              <Assignment>
                                                                  <StringVariable>cmd_name</StringVariable>
                                                                  <StringRHS>
                                                                      <StringValue>get_next_inspection_point</StringValue>
                                                                  </StringRHS>
                                                              </Assignment>
                                                          </NodeBody>
                                                      </Node>
                                                      <Node FileName="SiteSurvey.ple" LineNo="82" ColNo="10" NodeType="NodeList">
                                                          <VariableDeclarations>
                                                              <DeclareVariable>
                                                                  <Name>waypt_name</Name>
                                                                  <Type>String</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_frame</Name>
                                                                  <Type>String</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_x</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_y</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_z</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_a</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_is_directional</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_tolerance</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_heading_tolerance</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_hinted_speed</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                              <DeclareVariable>
                                                                  <Name>waypt_timeout</Name>
                                                                  <Type>Real</Type>
                                                              </DeclareVariable>
                                                          </VariableDeclarations>
                                                          <NodeId>GetAndProcessWaypoint</NodeId>
                                                          <StartCondition>
                                                              <AND>
                                                                  <EQInternal>
                                                                      <NodeStateVariable>
                                                                          <NodeId>RequestNextWaypt</NodeId>
                                                                      </NodeStateVariable>
                                                                      <NodeStateValue>FINISHED</NodeStateValue>
                                                                  </EQInternal>
                                                                  <EQBoolean>
                                                                      <BooleanVariable>is_paused</BooleanVariable>
                                                                      <BooleanValue>false</BooleanValue>
                                                                  </EQBoolean>
                                                              </AND>
                                                          </StartCondition>
                                                          <PreCondition>
                                                              <EQInternal>
                                                                  <NodeOutcomeVariable>
                                                                      <NodeId>RequestNextWaypt</NodeId>
                                                                  </NodeOutcomeVariable>
                                                                  <NodeOutcomeValue>SUCCESS</NodeOutcomeValue>
                                                              </EQInternal>
                                                          </PreCondition>
                                                          <EndCondition>
                                                              <OR>
                                                                  <EQInternal>
                                                                      <NodeOutcomeVariable>
                                                                          <NodeId>GetNewWaypt</NodeId>
                                                                      </NodeOutcomeVariable>
                                                                      <NodeOutcomeValue>FAILURE</NodeOutcomeValue>
                                                                  </EQInternal>
                                                                  <EQInternal>
                                                                      <NodeStateVariable>
                                                                          <NodeId>DriveAndAcquire</NodeId>
                                                                      </NodeStateVariable>
                                                                      <NodeStateValue>FINISHED</NodeStateValue>
                                                                  </EQInternal>
                                                              </OR>
                                                          </EndCondition>
                                                          <InvariantCondition>
                                                              <EQBoolean>
                                                                  <BooleanVariable>is_paused</BooleanVariable>
                                                                  <BooleanValue>false</BooleanValue>
                                                              </EQBoolean>
                                                          </InvariantCondition>
                                                          <NodeBody>
                                                              <NodeList>
                                                                  <Node FileName="SiteSurvey.ple" LineNo="103" ColNo="12" NodeType="NodeList">
                                                                      <NodeId>GetNewWaypt</NodeId>
                                                                      <PostCondition>
                                                                          <AND>
                                                                              <AND>
                                                                                  <AND>
                                                                                      <EQInternal>
                                                                                          <NodeOutcomeVariable>
                                                                                              <NodeId>Get_x</NodeId>
                                                                                          </NodeOutcomeVariable>
                                                                                          <NodeOutcomeValue>SUCCESS</NodeOutcomeValue>
                                                                                      </EQInternal>
                                                                                      <EQInternal>
                                                                                          <NodeOutcomeVariable>
                                                                                              <NodeId>Get_y</NodeId>
                                                                                          </NodeOutcomeVariable>
                                                                                          <NodeOutcomeValue>SUCCESS</NodeOutcomeValue>
                                                                                      </EQInternal>
                                                                                  </AND>
                                                                                  <EQInternal>
                                                                                      <NodeOutcomeVariable>
                                                                                          <NodeId>Get_task_type</NodeId>
                                                                                      </NodeOutcomeVariable>
                                                                                      <NodeOutcomeValue>SUCCESS</NodeOutcomeValue>
                                                                                  </EQInternal>
                                                                              </AND>
                                                                              <EQInternal>
                                                                                  <NodeOutcomeVariable>
                                                                                      <NodeId>Get_task_id</NodeId>
                                                                                  </NodeOutcomeVariable>
                                                                                  <NodeOutcomeValue>SUCCESS</NodeOutcomeValue>
                                                                              </EQInternal>
                                                                          </AND>
                                                                      </PostCondition>
                                                                      <NodeBody>
                                                                          <NodeList>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="111" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_name</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <StringVariable>waypt_name</StringVariable>
                                                                                          <StringRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>name</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </StringRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="116" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_frame</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <StringVariable>waypt_frame</StringVariable>
                                                                                          <StringRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>frame</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </StringRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="122" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_task_type</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <IntegerVariable>task_type</IntegerVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>inspect_waypoint</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="127" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_task_id</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <IntegerVariable>waypt_id</IntegerVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>task_id</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="133" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_x</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_x</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>waypoint_x</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="138" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_y</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_y</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>waypoint_y</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="143" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_z</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_z</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>waypoint_z</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="148" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_a</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_a</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>waypoint_a</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="153" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_dir</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_is_directional</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>isDirectional</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="158" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_tolerance</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_tolerance</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>tolerance</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="163" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_heading_tolerance</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_heading_tolerance</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>headingTolerance</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="168" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_hinted_speed</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_hinted_speed</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>hintedSpeed</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="173" ColNo="14" NodeType="Assignment">
                                                                                  <NodeId>Get_timeout</NodeId>
                                                                                  <NodeBody>
                                                                                      <Assignment>
                                                                                          <RealVariable>waypt_timeout</RealVariable>
                                                                                          <NumericRHS>
                                                                                              <LookupNow>
                                                                                                  <Name>
                                                                                                      <StringValue>timeout</StringValue>
                                                                                                  </Name>
                                                                                              </LookupNow>
                                                                                          </NumericRHS>
                                                                                      </Assignment>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                          </NodeList>
                                                                      </NodeBody>
                                                                  </Node>
                                                                  <Node FileName="SiteSurvey.ple" LineNo="179" ColNo="12" NodeType="Assignment">
                                                                      <NodeId>Cmd_Reset1</NodeId>
                                                                      <NodeBody>
                                                                          <Assignment>
                                                                              <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                              <NumericRHS>
                                                                                  <IntegerValue>-1000</IntegerValue>
                                                                              </NumericRHS>
                                                                          </Assignment>
                                                                      </NodeBody>
                                                                  </Node>
                                                                  <Node FileName="SiteSurvey.ple" LineNo="184" ColNo="12" NodeType="NodeList">
                                                                      <NodeId>DriveAndAcquire</NodeId>
                                                                      <StartCondition>
                                                                          <EQInternal>
                                                                              <NodeStateVariable>
                                                                                  <NodeId>GetNewWaypt</NodeId>
                                                                              </NodeStateVariable>
                                                                              <NodeStateValue>FINISHED</NodeStateValue>
                                                                          </EQInternal>
                                                                      </StartCondition>
                                                                      <PreCondition>
                                                                          <EQInternal>
                                                                              <NodeOutcomeVariable>
                                                                                  <NodeId>GetNewWaypt</NodeId>
                                                                              </NodeOutcomeVariable>
                                                                              <NodeOutcomeValue>SUCCESS</NodeOutcomeValue>
                                                                          </EQInternal>
                                                                      </PreCondition>
                                                                      <NodeBody>
                                                                          <NodeList>
                                                                              <Node FileName="SiteSurvey.ple" LineNo="191" ColNo="14" NodeType="NodeList">
                                                                                  <NodeId>ProcessWaypoint</NodeId>
                                                                                  <SkipCondition>
                                                                                      <EQNumeric>
                                                                                          <IntegerVariable>task_type</IntegerVariable>
                                                                                          <IntegerValue>0</IntegerValue>
                                                                                      </EQNumeric>
                                                                                  </SkipCondition>
                                                                                  <NodeBody>
                                                                                      <NodeList>
                                                                                          <Node FileName="SiteSurvey.ple" LineNo="197" ColNo="16" NodeType="Command">
                                                                                              <NodeId>DriveToWaypoint</NodeId>
                                                                                              <PostCondition>
                                                                                                  <EQNumeric>
                                                                                                      <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                      <IntegerValue>0</IntegerValue>
                                                                                                  </EQNumeric>
                                                                                              </PostCondition>
                                                                                              <InvariantCondition>
                                                                                                  <OR>
                                                                                                      <OR>
                                                                                                          <OR>
                                                                                                              <EQNumeric>
                                                                                                                  <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                  <IntegerValue>-1000</IntegerValue>
                                                                                                              </EQNumeric>
                                                                                                              <EQNumeric>
                                                                                                                  <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                  <IntegerValue>0</IntegerValue>
                                                                                                              </EQNumeric>
                                                                                                          </OR>
                                                                                                          <EQNumeric>
                                                                                                              <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                              <IntegerValue>2</IntegerValue>
                                                                                                          </EQNumeric>
                                                                                                      </OR>
                                                                                                      <EQNumeric>
                                                                                                          <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                          <IntegerValue>3</IntegerValue>
                                                                                                      </EQNumeric>
                                                                                                  </OR>
                                                                                              </InvariantCondition>
                                                                                              <EndCondition>
                                                                                                  <OR>
                                                                                                      <NENumeric>
                                                                                                          <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                          <IntegerValue>-1000</IntegerValue>
                                                                                                      </NENumeric>
                                                                                                      <EQBoolean>
                                                                                                          <BooleanVariable>is_aborted</BooleanVariable>
                                                                                                          <BooleanValue>true</BooleanValue>
                                                                                                      </EQBoolean>
                                                                                                  </OR>
                                                                                              </EndCondition>
                                                                                              <NodeBody>
                                                                                                  <Command>
                                                                                                      <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                      <Name>
                                                                                                          <StringValue>move_to_waypoint</StringValue>
                                                                                                      </Name>
                                                                                                      <Arguments>
                                                                                                          <StringVariable>waypt_name</StringVariable>
                                                                                                          <StringVariable>waypt_frame</StringVariable>
                                                                                                          <RealVariable>waypt_x</RealVariable>
                                                                                                          <RealVariable>waypt_y</RealVariable>
                                                                                                          <RealVariable>waypt_z</RealVariable>
                                                                                                          <RealVariable>waypt_a</RealVariable>
                                                                                                          <RealVariable>waypt_is_directional</RealVariable>
                                                                                                          <RealVariable>waypt_tolerance</RealVariable>
                                                                                                          <RealVariable>waypt_heading_tolerance</RealVariable>
                                                                                                          <RealVariable>waypt_hinted_speed</RealVariable>
                                                                                                      </Arguments>
                                                                                                  </Command>
                                                                                              </NodeBody>
                                                                                          </Node>
                                                                                          <Node FileName="SiteSurvey.ple" LineNo="208" ColNo="16" NodeType="Assignment">
                                                                                              <NodeId>SetNameToDrive</NodeId>
                                                                                              <StartCondition>
                                                                                                  <EQInternal>
                                                                                                      <NodeStateVariable>
                                                                                                          <NodeId>DriveToWaypoint</NodeId>
                                                                                                      </NodeStateVariable>
                                                                                                      <NodeStateValue>FINISHED</NodeStateValue>
                                                                                                  </EQInternal>
                                                                                              </StartCondition>
                                                                                              <NodeBody>
                                                                                                  <Assignment>
                                                                                                      <StringVariable>cmd_name</StringVariable>
                                                                                                      <StringRHS>
                                                                                                          <StringValue>drive</StringValue>
                                                                                                      </StringRHS>
                                                                                                  </Assignment>
                                                                                              </NodeBody>
                                                                                          </Node>
                                                                                          <Node FileName="SiteSurvey.ple" LineNo="214" ColNo="16" NodeType="NodeList">
                                                                                              <NodeId>WrapperNode</NodeId>
                                                                                              <StartCondition>
                                                                                                  <EQInternal>
                                                                                                      <NodeStateVariable>
                                                                                                          <NodeId>SetNameToDrive</NodeId>
                                                                                                      </NodeStateVariable>
                                                                                                      <NodeStateValue>FINISHED</NodeStateValue>
                                                                                                  </EQInternal>
                                                                                              </StartCondition>
                                                                                              <PreCondition>
                                                                                                  <EQInternal>
                                                                                                      <NodeOutcomeVariable>
                                                                                                          <NodeId>DriveToWaypoint</NodeId>
                                                                                                      </NodeOutcomeVariable>
                                                                                                      <NodeOutcomeValue>SUCCESS</NodeOutcomeValue>
                                                                                                  </EQInternal>
                                                                                              </PreCondition>
                                                                                              <SkipCondition>
                                                                                                  <EQNumeric>
                                                                                                      <IntegerVariable>task_type</IntegerVariable>
                                                                                                      <IntegerValue>1</IntegerValue>
                                                                                                  </EQNumeric>
                                                                                              </SkipCondition>
                                                                                              <NodeBody>
                                                                                                  <NodeList>
                                                                                                      <Node FileName="SiteSurvey.ple" LineNo="222" ColNo="19" NodeType="Assignment">
                                                                                                          <NodeId>Cmd_Reset2</NodeId>
                                                                                                          <NodeBody>
                                                                                                              <Assignment>
                                                                                                                  <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                  <NumericRHS>
                                                                                                                      <IntegerValue>-1000</IntegerValue>
                                                                                                                  </NumericRHS>
                                                                                                              </Assignment>
                                                                                                          </NodeBody>
                                                                                                      </Node>
                                                                                                      <Node FileName="SiteSurvey.ple" LineNo="227" ColNo="19" NodeType="Command">
                                                                                                          <NodeId>TakeSample</NodeId>
                                                                                                          <StartCondition>
                                                                                                              <EQInternal>
                                                                                                                  <NodeStateVariable>
                                                                                                                      <NodeId>Cmd_Reset2</NodeId>
                                                                                                                  </NodeStateVariable>
                                                                                                                  <NodeStateValue>FINISHED</NodeStateValue>
                                                                                                              </EQInternal>
                                                                                                          </StartCondition>
                                                                                                          <PostCondition>
                                                                                                              <EQNumeric>
                                                                                                                  <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                  <IntegerValue>0</IntegerValue>
                                                                                                              </EQNumeric>
                                                                                                          </PostCondition>
                                                                                                          <InvariantCondition>
                                                                                                              <OR>
                                                                                                                  <OR>
                                                                                                                      <OR>
                                                                                                                          <EQNumeric>
                                                                                                                              <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                              <IntegerValue>-1000</IntegerValue>
                                                                                                                          </EQNumeric>
                                                                                                                          <EQNumeric>
                                                                                                                              <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                              <IntegerValue>0</IntegerValue>
                                                                                                                          </EQNumeric>
                                                                                                                      </OR>
                                                                                                                      <EQNumeric>
                                                                                                                          <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                          <IntegerValue>2</IntegerValue>
                                                                                                                      </EQNumeric>
                                                                                                                  </OR>
                                                                                                                  <EQNumeric>
                                                                                                                      <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                      <IntegerValue>3</IntegerValue>
                                                                                                                  </EQNumeric>
                                                                                                              </OR>
                                                                                                          </InvariantCondition>
                                                                                                          <EndCondition>
                                                                                                              <OR>
                                                                                                                  <NENumeric>
                                                                                                                      <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                      <IntegerValue>-1000</IntegerValue>
                                                                                                                  </NENumeric>
                                                                                                                  <EQBoolean>
                                                                                                                      <BooleanVariable>is_aborted</BooleanVariable>
                                                                                                                      <BooleanValue>true</BooleanValue>
                                                                                                                  </EQBoolean>
                                                                                                              </OR>
                                                                                                          </EndCondition>
                                                                                                          <NodeBody>
                                                                                                              <Command>
                                                                                                                  <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                                                  <Name>
                                                                                                                      <StringValue>acquire</StringValue>
                                                                                                                  </Name>
                                                                                                              </Command>
                                                                                                          </NodeBody>
                                                                                                      </Node>
                                                                                                      <Node FileName="SiteSurvey.ple" LineNo="237" ColNo="19" NodeType="Assignment">
                                                                                                          <NodeId>SetNameToAcquire</NodeId>
                                                                                                          <StartCondition>
                                                                                                              <EQInternal>
                                                                                                                  <NodeStateVariable>
                                                                                                                      <NodeId>TakeSample</NodeId>
                                                                                                                  </NodeStateVariable>
                                                                                                                  <NodeStateValue>FINISHED</NodeStateValue>
                                                                                                              </EQInternal>
                                                                                                          </StartCondition>
                                                                                                          <NodeBody>
                                                                                                              <Assignment>
                                                                                                                  <StringVariable>cmd_name</StringVariable>
                                                                                                                  <StringRHS>
                                                                                                                      <StringValue>acquire</StringValue>
                                                                                                                  </StringRHS>
                                                                                                              </Assignment>
                                                                                                          </NodeBody>
                                                                                                      </Node>
                                                                                                  </NodeList>
                                                                                              </NodeBody>
                                                                                          </Node>
                                                                                      </NodeList>
                                                                                  </NodeBody>
                                                                              </Node>
                                                                          </NodeList>
                                                                      </NodeBody>
                                                                  </Node>
                                                              </NodeList>
                                                          </NodeBody>
                                                      </Node>
                                                      <Node FileName="SiteSurvey.ple" LineNo="247" ColNo="9" NodeType="Assignment">
                                                          <NodeId>SetPauseResult</NodeId>
                                                          <StartCondition>
                                                              <AND>
                                                                  <EQInternal>
                                                                      <NodeStateVariable>
                                                                          <NodeId>GetAndProcessWaypoint</NodeId>
                                                                      </NodeStateVariable>
                                                                      <NodeStateValue>FINISHED</NodeStateValue>
                                                                  </EQInternal>
                                                                  <EQBoolean>
                                                                      <BooleanVariable>is_paused</BooleanVariable>
                                                                      <BooleanValue>true</BooleanValue>
                                                                  </EQBoolean>
                                                              </AND>
                                                          </StartCondition>
                                                          <NodeBody>
                                                              <Assignment>
                                                                  <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                  <NumericRHS>
                                                                      <IntegerValue>-3</IntegerValue>
                                                                  </NumericRHS>
                                                              </Assignment>
                                                          </NodeBody>
                                                      </Node>
                                                      <Node FileName="SiteSurvey.ple" LineNo="253" ColNo="9" NodeType="Update">
                                                          <NodeId>SendUpdate</NodeId>
                                                          <StartCondition>
                                                              <OR>
                                                                  <OR>
                                                                      <AND>
                                                                          <EQInternal>
                                                                              <NodeStateVariable>
                                                                                  <NodeId>GetAndProcessWaypoint</NodeId>
                                                                              </NodeStateVariable>
                                                                              <NodeStateValue>FINISHED</NodeStateValue>
                                                                          </EQInternal>
                                                                          <EQBoolean>
                                                                              <BooleanVariable>is_paused</BooleanVariable>
                                                                              <BooleanValue>false</BooleanValue>
                                                                          </EQBoolean>
                                                                      </AND>
                                                                      <EQInternal>
                                                                          <NodeStateVariable>
                                                                              <NodeId>SetWaypointRequestFailed</NodeId>
                                                                          </NodeStateVariable>
                                                                          <NodeStateValue>FINISHED</NodeStateValue>
                                                                      </EQInternal>
                                                                  </OR>
                                                                  <EQInternal>
                                                                      <NodeStateVariable>
                                                                          <NodeId>SetPauseResult</NodeId>
                                                                      </NodeStateVariable>
                                                                      <NodeStateValue>FINISHED</NodeStateValue>
                                                                  </EQInternal>
                                                              </OR>
                                                          </StartCondition>
                                                          <NodeBody>
                                                              <Update>
                                                                  <Pair>
                                                                      <Name>taskId</Name>
                                                                      <IntegerVariable>waypt_id</IntegerVariable>
                                                                  </Pair>
                                                                  <Pair>
                                                                      <Name>result</Name>
                                                                      <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                  </Pair>
                                                                  <Pair>
                                                                      <Name>commandName</Name>
                                                                      <StringVariable>cmd_name</StringVariable>
                                                                  </Pair>
                                                              </Update>
                                                          </NodeBody>
                                                      </Node>
                                                      <Node FileName="SiteSurvey.ple" LineNo="261" ColNo="9" NodeType="NodeList">
                                                          <NodeId>CheckIfAbortPlan</NodeId>
                                                          <StartCondition>
                                                              <EQInternal>
                                                                  <NodeStateVariable>
                                                                      <NodeId>SendUpdate</NodeId>
                                                                  </NodeStateVariable>
                                                                  <NodeStateValue>FINISHED</NodeStateValue>
                                                              </EQInternal>
                                                          </StartCondition>
                                                          <NodeBody>
                                                              <NodeList>
                                                                  <Node FileName="SiteSurvey.ple" LineNo="267" ColNo="11" NodeType="Assignment">
                                                                      <NodeId>SetAbort</NodeId>
                                                                      <SkipCondition>
                                                                          <OR>
                                                                              <OR>
                                                                                  <OR>
                                                                                      <OR>
                                                                                          <EQNumeric>
                                                                                              <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                              <IntegerValue>-3</IntegerValue>
                                                                                          </EQNumeric>
                                                                                          <EQNumeric>
                                                                                              <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                              <IntegerValue>-2</IntegerValue>
                                                                                          </EQNumeric>
                                                                                      </OR>
                                                                                      <EQNumeric>
                                                                                          <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                          <IntegerValue>0</IntegerValue>
                                                                                      </EQNumeric>
                                                                                  </OR>
                                                                                  <EQNumeric>
                                                                                      <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                      <IntegerValue>2</IntegerValue>
                                                                                  </EQNumeric>
                                                                              </OR>
                                                                              <EQNumeric>
                                                                                  <IntegerVariable>cmd_return_val</IntegerVariable>
                                                                                  <IntegerValue>3</IntegerValue>
                                                                              </EQNumeric>
                                                                          </OR>
                                                                      </SkipCondition>
                                                                      <NodeBody>
                                                                          <Assignment>
                                                                              <BooleanVariable>abort_due_to_exception</BooleanVariable>
                                                                              <BooleanRHS>
                                                                                  <BooleanValue>true</BooleanValue>
                                                                              </BooleanRHS>
                                                                          </Assignment>
                                                                      </NodeBody>
                                                                  </Node>
                                                              </NodeList>
                                                          </NodeBody>
                                                      </Node>
                                                  </NodeList>
                                              </NodeBody>
                                          </Node>
                                      </NodeList>
                                  </NodeBody>
                              </Node>
                              <Node FileName="SiteSurvey.ple" LineNo="277" ColNo="5" NodeType="Assignment">
                                  <NodeId>MonitorPauseSignal</NodeId>
                                  <StartCondition>
                                      <NEBoolean>
                                          <BooleanVariable>is_paused</BooleanVariable>
                                          <LookupOnChange>
                                              <Name>
                                                  <StringValue>plan_paused</StringValue>
                                              </Name>
                                          </LookupOnChange>
                                      </NEBoolean>
                                  </StartCondition>
                                  <RepeatCondition>
                                      <BooleanValue>true</BooleanValue>
                                  </RepeatCondition>
                                  <NodeBody>
                                      <Assignment>
                                          <BooleanVariable>is_paused</BooleanVariable>
                                          <BooleanRHS>
                                              <LookupNow>
                                                  <Name>
                                                      <StringValue>plan_paused</StringValue>
                                                  </Name>
                                              </LookupNow>
                                          </BooleanRHS>
                                      </Assignment>
                                  </NodeBody>
                              </Node>
                          </NodeList>
                      </NodeBody>
                  </Node>
                  <Node FileName="SiteSurvey.ple" LineNo="285" ColNo="3" NodeType="Update">
                      <NodeId>SignalEndOfPlan</NodeId>
                      <StartCondition>
                          <AND>
                              <EQInternal>
                                  <NodeStateVariable>
                                      <NodeId>SiteSurveyWrapper</NodeId>
                                  </NodeStateVariable>
                                  <NodeStateValue>FINISHED</NodeStateValue>
                              </EQInternal>
                              <EQInternal>
                                  <NodeStateVariable>
                                      <NodeId>MonitorAbortSignal</NodeId>
                                  </NodeStateVariable>
                                  <NodeStateValue>WAITING</NodeStateValue>
                              </EQInternal>
                          </AND>
                      </StartCondition>
                      <NodeBody>
                          <Update>
                              <Pair>
                                  <Name>endOfPlan</Name>
                                  <BooleanValue>true</BooleanValue>
                              </Pair>
                          </Update>
                      </NodeBody>
                  </Node>
                  <Node FileName="SiteSurvey.ple" LineNo="292" ColNo="3" NodeType="Assignment">
                      <NodeId>MonitorAbortSignal</NodeId>
                      <StartCondition>
                          <EQBoolean>
                              <LookupOnChange>
                                  <Name>
                                      <StringValue>abort_plan</StringValue>
                                  </Name>
                              </LookupOnChange>
                              <BooleanValue>true</BooleanValue>
                          </EQBoolean>
                      </StartCondition>
                      <NodeBody>
                          <Assignment>
                              <BooleanVariable>is_aborted</BooleanVariable>
                              <BooleanRHS>
                                  <BooleanValue>true</BooleanValue>
                              </BooleanRHS>
                          </Assignment>
                      </NodeBody>
                  </Node>
                  <Node FileName="SiteSurvey.ple" LineNo="299" ColNo="3" NodeType="Update">
                      <NodeId>SendAbortUpdate</NodeId>
                      <StartCondition>
                          <EQInternal>
                              <NodeStateVariable>
                                  <NodeId>MonitorAbortSignal</NodeId>
                              </NodeStateVariable>
                              <NodeStateValue>FINISHED</NodeStateValue>
                          </EQInternal>
                      </StartCondition>
                      <NodeBody>
                          <Update>
                              <Pair>
                                  <Name>taskId</Name>
                                  <IntegerVariable>waypt_id</IntegerVariable>
                              </Pair>
                              <Pair>
                                  <Name>result</Name>
                                  <IntegerValue>-2</IntegerValue>
                              </Pair>
                          </Update>
                      </NodeBody>
                  </Node>
              </NodeList>
          </NodeBody>
      </Node>
  </PlexilPlan>
