<PlexilPlan LineNo="2" ColNo="5" FileName="input/test-recv.ple"><GlobalDeclarations LineNo="2" ColNo="5"><StateDeclaration LineNo="2" ColNo="5"><Name>time</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><CommandDeclaration LineNo="3" ColNo="0"><Name>print</Name><AnyParameters/></CommandDeclaration><CommandDeclaration LineNo="4" ColNo="0"><Name>ack_msg</Name><Parameter><Type>String</Type></Parameter></CommandDeclaration></GlobalDeclarations><UncheckedSequence LineNo="6" ColNo="6"><NodeId>root</NodeId><VariableDeclarations><DeclareVariable LineNo="6" ColNo="2"><Name>run_start_time</Name><Type>Real</Type></DeclareVariable><DeclareVariable LineNo="7" ColNo="2"><Name>timeout</Name><Type>Integer</Type><InitialValue><IntegerValue>5</IntegerValue></InitialValue></DeclareVariable><DeclareVariable LineNo="8" ColNo="2"><Name>continue</Name><Type>Boolean</Type><InitialValue><BooleanValue>true</BooleanValue></InitialValue></DeclareVariable><DeclareVariable LineNo="9" ColNo="2"><Name>send_ack</Name><Type>Boolean</Type><InitialValue><BooleanValue>true</BooleanValue></InitialValue></DeclareVariable></VariableDeclarations><Node LineNo="13" ColNo="19" NodeType="Assignment"><NodeId>RecordStartTime</NodeId><NodeBody><Assignment><RealVariable>run_start_time</RealVariable><NumericRHS><Lookup LineNo="13" ColNo="36"><Name><StringValue>time</StringValue></Name></Lookup></NumericRHS></Assignment></NodeBody></Node><Concurrence LineNo="14" ColNo="27"><NodeId>WaitForTimeoutOrCommand</NodeId><InvariantCondition LineNo="15" ColNo="4"><BooleanVariable>continue</BooleanVariable></InvariantCondition><Sequence LineNo="17" ColNo="6"><NodeId>HandleCommand</NodeId><RepeatCondition LineNo="17" ColNo="6"><BooleanVariable>continue</BooleanVariable></RepeatCondition><Sequence LineNo="20" ColNo="8"><NodeId>ReceiveCommand</NodeId><OnCommand LineNo="20" ColNo="8"><NodeId>OnCommand__0</NodeId><VariableDeclarations><DeclareVariable LineNo="19" ColNo="34"><Name>arg1</Name><Type>String</Type></DeclareVariable><DeclareVariable LineNo="19" ColNo="47"><Name>arg2</Name><Type>Boolean</Type></DeclareVariable><DeclareVariable LineNo="19" ColNo="61"><Name>arg3</Name><Type>Integer</Type></DeclareVariable><DeclareVariable LineNo="19" ColNo="75"><Name>arg4</Name><Type>Real</Type></DeclareVariable><DeclareVariable LineNo="19" ColNo="86"><Name>arg5</Name><Type>Integer</Type></DeclareVariable><DeclareVariable LineNo="19" ColNo="100"><Name>arg6</Name><Type>Real</Type></DeclareVariable></VariableDeclarations><Name><StringValue>test_udp_msg</StringValue></Name><Sequence LineNo="22" ColNo="10"><NodeId>BLOCK__1</NodeId><Node LineNo="21" ColNo="25" NodeType="Command"><NodeId>ReportCommand</NodeId><NodeBody><Command><Name><StringValue>print</StringValue></Name><Arguments LineNo="22" ColNo="32"><StringValue>
test-recv: received arg1==</StringValue><StringVariable>arg1</StringVariable><StringValue>, arg2==</StringValue><BooleanVariable>arg2</BooleanVariable><StringValue>, arg3==</StringValue><IntegerVariable>arg3</IntegerVariable><StringValue>, arg4==</StringValue><RealVariable>arg4</RealVariable><StringValue>, arg5==</StringValue><IntegerVariable>arg5</IntegerVariable><StringValue>, arg6==</StringValue><RealVariable>arg6</RealVariable><StringValue>, arg7==</StringValue><StringValue>, arg8==</StringValue><StringValue>

</StringValue></Arguments></Command></NodeBody></Node><Node LineNo="24" ColNo="30" NodeType="Assignment"><NodeId>CheckForAckRequest</NodeId><NodeBody><Assignment><BooleanVariable>send_ack</BooleanVariable><BooleanRHS><BooleanVariable>arg2</BooleanVariable></BooleanRHS></Assignment></NodeBody></Node></Sequence></OnCommand><Sequence LineNo="29" ColNo="10"><NodeId>SendCommandAck</NodeId><SkipCondition LineNo="29" ColNo="10"><NOT LineNo="29" ColNo="24"><BooleanVariable>send_ack</BooleanVariable></NOT></SkipCondition><Node LineNo="29" ColNo="28" NodeType="Command"><NodeId>ReportSendingAck</NodeId><NodeBody><Command><Name><StringValue>print</StringValue></Name><Arguments LineNo="30" ColNo="35"><StringValue>
test-recv: sending ack

</StringValue></Arguments></Command></NodeBody></Node><Node LineNo="30" ColNo="19" NodeType="Command"><NodeId>SendAck</NodeId><NodeBody><Command><Name><StringValue>ack_msg</StringValue></Name><Arguments LineNo="31" ColNo="28"><StringValue>ack</StringValue></Arguments></Command></NodeBody></Node></Sequence><UncheckedSequence LineNo="34" ColNo="23"><NodeId>HandleTimeout</NodeId><StartCondition LineNo="36" ColNo="10"><GT LineNo="36" ColNo="41"><Lookup LineNo="36" ColNo="25"><Name><StringValue>time</StringValue></Name><Tolerance><RealValue>1</RealValue></Tolerance></Lookup><ADD LineNo="36" ColNo="58"><RealVariable>run_start_time</RealVariable><IntegerVariable>timeout</IntegerVariable></ADD></GT></StartCondition><Priority>1</Priority><Node LineNo="36" ColNo="25" NodeType="Command"><NodeId>ReportTimeout</NodeId><NodeBody><Command><Name><StringValue>print</StringValue></Name><Arguments LineNo="37" ColNo="32"><StringValue>
test-recv: timed out after </StringValue><IntegerVariable>timeout</IntegerVariable><StringValue> seconds

</StringValue></Arguments></Command></NodeBody></Node><Node LineNo="38" ColNo="25" NodeType="Assignment"><NodeId>SignalTimeout</NodeId><NodeBody><Assignment><BooleanVariable>continue</BooleanVariable><BooleanRHS><BooleanValue>false</BooleanValue></BooleanRHS></Assignment></NodeBody></Node></UncheckedSequence><UncheckedSequence LineNo="41" ColNo="27"><NodeId>HandleQuitMessage</NodeId><Priority>0</Priority><OnCommand LineNo="43" ColNo="10"><NodeId>OnCommand__2</NodeId><VariableDeclarations><DeclareVariable LineNo="42" ColNo="32"><Name>junk</Name><Type>String</Type></DeclareVariable></VariableDeclarations><Name><StringValue>quit_msg</StringValue></Name><Sequence LineNo="44" ColNo="12"><NodeId>BLOCK__3</NodeId><Node LineNo="43" ColNo="32" NodeType="Command"><NodeId>ReportQuitReceived</NodeId><NodeBody><Command><Name><StringValue>print</StringValue></Name><Arguments LineNo="44" ColNo="39"><StringValue>
test-recv: received quit command

</StringValue></Arguments></Command></NodeBody></Node><Node LineNo="45" ColNo="24" NodeType="Assignment"><NodeId>SignalQuit</NodeId><NodeBody><Assignment><BooleanVariable>continue</BooleanVariable><BooleanRHS><BooleanValue>false</BooleanValue></BooleanRHS></Assignment></NodeBody></Node></Sequence></OnCommand></UncheckedSequence></Sequence></Sequence></Concurrence></UncheckedSequence></PlexilPlan>