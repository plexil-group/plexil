<PlexilPlan FileName="input/test-send.ple"><GlobalDeclarations LineNo="1" ColNo="5"><StateDeclaration LineNo="1" ColNo="5"><Name>time</Name><Return><Name>_return_0</Name><Type>Real</Type></Return></StateDeclaration><CommandDeclaration LineNo="2" ColNo="0"><Name>print</Name><AnyParameters/></CommandDeclaration><CommandDeclaration LineNo="3" ColNo="0"><Name>test_udp_msg</Name><Parameter><Type>String</Type></Parameter><Parameter><Type>Boolean</Type></Parameter><Parameter><Type>Integer</Type></Parameter><Parameter><Type>Real</Type></Parameter><Parameter><Type>Integer</Type><MaxSize>3</MaxSize></Parameter><Parameter><Type>Real</Type><MaxSize>3</MaxSize></Parameter><Parameter><Type>Boolean</Type><MaxSize>3</MaxSize></Parameter><Parameter><Type>String</Type><MaxSize>3</MaxSize></Parameter></CommandDeclaration><CommandDeclaration LineNo="4" ColNo="0"><Name>quit_msg</Name><Parameter><Type>String</Type></Parameter></CommandDeclaration></GlobalDeclarations><UncheckedSequence LineNo="6" ColNo="0"><NodeId>root</NodeId><VariableDeclarations><DeclareVariable LineNo="8" ColNo="4"><Name>arg1</Name><Type>String</Type><InitialValue><StringValue>CA</StringValue></InitialValue></DeclareVariable><DeclareVariable LineNo="10" ColNo="4"><Name>arg3</Name><Type>Integer</Type><InitialValue><IntegerValue>3</IntegerValue></InitialValue></DeclareVariable><DeclareVariable LineNo="11" ColNo="4"><Name>arg4</Name><Type>Real</Type><InitialValue><RealValue>3.14159</RealValue></InitialValue></DeclareVariable><DeclareArray LineNo="12" ColNo="4"><Name>arg5</Name><Type>Integer</Type><MaxSize>3</MaxSize><InitialValue><ArrayValue Type="Integer"><IntegerValue>9</IntegerValue><IntegerValue>8</IntegerValue><IntegerValue>7</IntegerValue></ArrayValue></InitialValue></DeclareArray><DeclareArray LineNo="13" ColNo="4"><Name>arg6</Name><Type>Real</Type><MaxSize>3</MaxSize><InitialValue><ArrayValue Type="Real"><RealValue>36.0</RealValue><RealValue>-104.7</RealValue><RealValue>25000.0</RealValue></ArrayValue></InitialValue></DeclareArray><DeclareArray LineNo="14" ColNo="4"><Name>arg7</Name><Type>Boolean</Type><MaxSize>3</MaxSize><InitialValue><ArrayValue Type="Boolean"><BooleanValue>true</BooleanValue><BooleanValue>true</BooleanValue><BooleanValue>false</BooleanValue></ArrayValue></InitialValue></DeclareArray><DeclareArray LineNo="15" ColNo="4"><Name>arg8</Name><Type>String</Type><MaxSize>3</MaxSize><InitialValue><ArrayValue Type="String"><StringValue>foo</StringValue><StringValue>baz</StringValue><StringValue>bar</StringValue></ArrayValue></InitialValue></DeclareArray><DeclareVariable LineNo="16" ColNo="4"><Name>run_start_time</Name><Type>Real</Type></DeclareVariable><DeclareVariable LineNo="17" ColNo="4"><Name>ackTimedOut</Name><Type>Boolean</Type><InitialValue><BooleanValue>false</BooleanValue></InitialValue></DeclareVariable></VariableDeclarations><Node LineNo="19" ColNo="4" NodeType="Assignment"><NodeId>RecordStartTime</NodeId><NodeBody><Assignment LineNo="19" ColNo="21"><RealVariable>run_start_time</RealVariable><NumericRHS><Lookup LineNo="19" ColNo="38"><Name><StringValue>time</StringValue></Name></Lookup></NumericRHS></Assignment></NodeBody></Node><Sequence LineNo="21" ColNo="4"><NodeId>SendUdpCommand1</NodeId><Node LineNo="23" ColNo="8" NodeType="Command"><NodeId>ReportParameters</NodeId><NodeBody><Command LineNo="23" ColNo="26"><Name><StringValue>print</StringValue></Name><Arguments><StringValue>
test-send: sending arg1==</StringValue><StringVariable>arg1</StringVariable><StringValue>, arg2==false, arg3==</StringValue><IntegerVariable>arg3</IntegerVariable><StringValue>, arg4==</StringValue><RealVariable>arg4</RealVariable><StringValue>, arg5==</StringValue><ArrayVariable>arg5</ArrayVariable><StringValue>, arg6==</StringValue><ArrayVariable>arg6</ArrayVariable><StringValue>, arg7==</StringValue><ArrayVariable>arg7</ArrayVariable><StringValue>, arg8==</StringValue><ArrayVariable>arg8</ArrayVariable><StringValue>

</StringValue></Arguments></Command></NodeBody></Node><Node LineNo="25" ColNo="8" NodeType="Command"><NodeId>SendCommand</NodeId><NodeBody><Command LineNo="25" ColNo="21"><Name><StringValue>test_udp_msg</StringValue></Name><Arguments><StringVariable>arg1</StringVariable><BooleanValue>false</BooleanValue><IntegerVariable>arg3</IntegerVariable><RealVariable>arg4</RealVariable><ArrayVariable>arg5</ArrayVariable><ArrayVariable>arg6</ArrayVariable><ArrayVariable>arg7</ArrayVariable><ArrayVariable>arg8</ArrayVariable></Arguments></Command></NodeBody></Node></Sequence><Concurrence LineNo="28" ColNo="4"><NodeId>SendUdpCommand2</NodeId><StartCondition LineNo="29" ColNo="8"><GT LineNo="29" ColNo="39"><Lookup LineNo="29" ColNo="23"><Name><StringValue>time</StringValue></Name><Tolerance><RealValue>1</RealValue></Tolerance></Lookup><ADD LineNo="29" ColNo="56"><RealVariable>run_start_time</RealVariable><IntegerValue>2</IntegerValue></ADD></GT></StartCondition><InvariantCondition LineNo="30" ColNo="8"><NOT LineNo="30" ColNo="27"><BooleanVariable>ackTimedOut</BooleanVariable></NOT></InvariantCondition><Node LineNo="32" ColNo="8" NodeType="Command"><NodeId>ReportParameters</NodeId><NodeBody><Command LineNo="32" ColNo="26"><Name><StringValue>print</StringValue></Name><Arguments><StringValue>
test-send: sending arg1==</StringValue><StringVariable>arg1</StringVariable><StringValue>, arg2==true, arg3==</StringValue><IntegerVariable>arg3</IntegerVariable><StringValue>, arg4==</StringValue><RealVariable>arg4</RealVariable><StringValue>, arg5==</StringValue><ArrayVariable>arg5</ArrayVariable><StringValue>, arg6==</StringValue><ArrayVariable>arg6</ArrayVariable><StringValue>, arg7==</StringValue><ArrayVariable>arg7</ArrayVariable><StringValue>, arg8==</StringValue><ArrayVariable>arg8</ArrayVariable><StringValue>

</StringValue></Arguments></Command></NodeBody></Node><OnCommand LineNo="35" ColNo="8"><NodeId>HandleAck</NodeId><StartCondition LineNo="37" ColNo="12"><EQInternal LineNo="37" ColNo="50"><NodeStateVariable><NodeId>ReportParameters</NodeId></NodeStateVariable><NodeStateValue>FINISHED</NodeStateValue></EQInternal></StartCondition><VariableDeclarations><DeclareVariable LineNo="38" ColNo="33"><Name>ack</Name><Type>String</Type></DeclareVariable></VariableDeclarations><Name><StringValue>ack_msg</StringValue></Name><Node LineNo="38" ColNo="45" NodeType="Command"><NodeId>COMMAND__1</NodeId><NodeBody><Command LineNo="38" ColNo="45"><Name><StringValue>print</StringValue></Name><Arguments><StringValue>
test-send: received ack

</StringValue></Arguments></Command></NodeBody></Node></OnCommand><UncheckedSequence LineNo="41" ColNo="8"><NodeId>HandleTimeout</NodeId><StartCondition LineNo="42" ColNo="12"><GT LineNo="42" ColNo="43"><Lookup LineNo="42" ColNo="27"><Name><StringValue>time</StringValue></Name><Tolerance><RealValue>1</RealValue></Tolerance></Lookup><ADD LineNo="42" ColNo="60"><RealVariable>run_start_time</RealVariable><IntegerValue>4</IntegerValue></ADD></GT></StartCondition><SkipCondition LineNo="43" ColNo="12"><EQInternal LineNo="43" ColNo="42"><NodeStateVariable><NodeId>HandleAck</NodeId></NodeStateVariable><NodeStateValue>FINISHED</NodeStateValue></EQInternal></SkipCondition><Node LineNo="44" ColNo="12" NodeType="Command"><NodeId>ReportTimeout</NodeId><NodeBody><Command LineNo="44" ColNo="27"><Name><StringValue>print</StringValue></Name><Arguments><StringValue>
test-send: ack timed out

</StringValue></Arguments></Command></NodeBody></Node><Node LineNo="45" ColNo="12" NodeType="Assignment"><NodeId>SignalTimeout</NodeId><NodeBody><Assignment LineNo="45" ColNo="27"><BooleanVariable>ackTimedOut</BooleanVariable><BooleanRHS><BooleanValue>true</BooleanValue></BooleanRHS></Assignment></NodeBody></Node></UncheckedSequence><Node LineNo="48" ColNo="8" NodeType="Command"><NodeId>SendCommand</NodeId><StartCondition LineNo="50" ColNo="12"><EQInternal LineNo="50" ColNo="43"><NodeStateVariable><NodeId>HandleAck</NodeId></NodeStateVariable><NodeStateValue>EXECUTING</NodeStateValue></EQInternal></StartCondition><NodeBody><Command LineNo="51" ColNo="12"><Name><StringValue>test_udp_msg</StringValue></Name><Arguments><StringVariable>arg1</StringVariable><BooleanValue>true</BooleanValue><IntegerVariable>arg3</IntegerVariable><RealVariable>arg4</RealVariable><ArrayVariable>arg5</ArrayVariable><ArrayVariable>arg6</ArrayVariable><ArrayVariable>arg7</ArrayVariable><ArrayVariable>arg8</ArrayVariable></Arguments></Command></NodeBody></Node></Concurrence><Sequence LineNo="55" ColNo="4"><NodeId>SendQuitCommand</NodeId><StartCondition LineNo="57" ColNo="8"><EQInternal LineNo="57" ColNo="45"><NodeStateVariable><NodeId>SendUdpCommand2</NodeId></NodeStateVariable><NodeStateValue>FINISHED</NodeStateValue></EQInternal></StartCondition><Node LineNo="58" ColNo="8" NodeType="Command"><NodeId>ReportSendQuit</NodeId><NodeBody><Command LineNo="58" ColNo="24"><Name><StringValue>print</StringValue></Name><Arguments><StringValue>
test-send: sending quit command

</StringValue></Arguments></Command></NodeBody></Node><Node LineNo="59" ColNo="8" NodeType="Command"><NodeId>SendQuit</NodeId><NodeBody><Command LineNo="59" ColNo="18"><Name><StringValue>quit_msg</StringValue></Name><Arguments><StringValue>quit</StringValue></Arguments></Command></NodeBody></Node></Sequence></UncheckedSequence></PlexilPlan>