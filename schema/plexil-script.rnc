namespace xsi = "http://www.w3.org/2001/XMLSchema-instance"
default namespace = ""

start =
  CommandAck
  | CommandAbort
  | InitialState
  | Param
  | State
  | (notAllowed
     | element PLEXILScript { InitialState?, Script })
  | Simultaneous
  | Command
  | UpdateAck
  | Script
InitialState =
  notAllowed
  | element InitialState { State* }
UpdateAck =
  notAllowed
  | element UpdateAck {
      attribute name { xsd:string }?
    }
\string = xsd:string
Simultaneous =
  notAllowed
  | element Simultaneous {
      (State | UpdateAck | Command | CommandAck | CommandAbort)*
    }
Command =
  notAllowed
  | element Command { command-type }
command-type =
  (type?,
   attribute name { xsd:string }?,
   Param*,
   (notAllowed
    | element Result { \string })+),
  empty
CommandAck =
  notAllowed
  | element CommandAck { command-type }
State =
  notAllowed
  | element State {
      type?,
      attribute name { xsd:string }?,
      Param*,
      element Value { \string }+
    }
CommandAbort =
  notAllowed
  | element CommandAbort { command-type }
Script =
  notAllowed
  | element Script {
      (State
       | UpdateAck
       | Command
       | CommandAck
       | CommandAbort
       | Simultaneous)*
    }
type =
  attribute type {
    xsd:NMTOKEN "int-array"
    | xsd:NMTOKEN "string-array"
    | xsd:NMTOKEN "real-array"
    | xsd:NMTOKEN "string"
    | xsd:NMTOKEN "bool-array"
    | xsd:NMTOKEN "int"
    | xsd:NMTOKEN "real"
    | xsd:NMTOKEN "bool"
  }
Param =
  notAllowed
  | element Param { type?, xsd:string }
