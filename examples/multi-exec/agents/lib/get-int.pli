;; File: $SVNROOT/examples/multi-exec/agents/lib/get-int.pli

(plexil-plan
  (sequence "get-int"
    (interface (inout (string "name") (string "type") (integer "int") (boolean "debug" false)))
    (variables (string "lib-name" ".lib/get-int"))
    (if (boolvar "debug")
      (command "print" "[" (stringvar "name") (stringvar "lib-name") "] sent: " (stringvar "type") "\n"))
    (action "get-int-value"
      (end-condition (not (= 0.0 (intvar "int"))))
      (command-with-return (intvar "int") "state-request" (stringvar "type")))
    (if (boolvar "debug")
      (command "print" "[" (stringvar "name") (stringvar "lib-name") "] recv: " (intvar "int") "\n"))))

;; EOF
