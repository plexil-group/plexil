;; File: plexil/examples/multi-exec/agents/iso-8601-tests.pli

(plexil-plan
  ;; I think these cover the special cases in translate-plexil.xsl.
  (sequence "iso-8601-tests"
    (variables (date "test-date-no-init")
               (date "test-date-with-init" "2011-06-07T15:47:00.000")
               (duration "duration-no-init")
               (duration "duration-with-init" "PT60M"))
    (action "wait-action"
      (variables (duration "wait-dur" "PT0.5S"))
      (wait (durvar "wait-dur") "wait-node"))
    (command-node "command"
      (variables (date "command-date" "2011-06-07T15:47:00.000")
                 (integer "x"))
      (command-with-return (intvar "x") "fake-command" (datevar "command-date")))
    (action "test-on-message-translation"
      (skip-condition true)
      (on-message "fake-message"
        (action "message-received"
          (variables (date "message-date" "2011-06-07T15:47:00.000"))
          (command "pprint" "fake-message received."))))
    (action "test-on-command-translation"
      (skip-condition true)
      (on-message "fake-command"
        (action "command-received"
          (variables (date "command-date" "2011-06-07T15:47:00.000"))
          (command "pprint" "fake-message received."))))
    ))
      
